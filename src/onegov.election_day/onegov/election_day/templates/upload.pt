<div metal:use-macro="layout.base" i18n:domain="onegov.election_day">
    <tal:block metal:fill-slot="title">
        ${title}
    </tal:block>
    <tal:block metal:fill-slot="content">
        <h1>${title}</h1>
        <h2 class="subheader">${subtitle}</h2>

        <tal:block condition="status == 'open'">
            <div class="panel">
                <i class="fa fa-info-circle"></i>
                <span i18n:translate>Please use the following format:</span><br>
                <a href="https://github.com/OneGov/onegov.election_day/blob/master/docs/formatbeschreibung.md" i18n:translate>
                    Format Description
                </a>
            </div>
        </tal:block>

        <div class="after-import" tal:condition="status == 'success'">
            <h3 class="success" i18n:translate>
                Your results were imported successfully!
            </h3>
        </div>

        <div class="after-import" tal:condition="status == 'error'">
            <h3 class="error" i18n:translate>
                Your results could not be imported.
            </h3>

            <h4 class="success" tal:condition="'proposal' in results and results['proposal']['status'] == 'ok'"
                i18n:translate>The proposal was okay</h4>
            <h4 class="error" tal:condition="'proposal' in results and results['proposal']['status'] != 'ok'"
                i18n:translate>Errors found in proposal</h4>
            <ul tal:condition="'proposal' in results">
                <li tal:repeat="error results['proposal']['errors']">
                    <span tal:condition="error.line"><span i18n:translate>Line: </span>${error.line}, </span>${error.error}
                </li>
            </ul>

            <h4 class="success" tal:condition="'counter-proposal' in results and results['counter-proposal']['status'] == 'ok'"
                i18n:translate>The counter proposal was okay</h4>
            <h4 class="error" tal:condition="'counter-proposal' in results and results['counter-proposal']['status'] != 'ok'"
                i18n:translate>Errors found in counter proposal</h4>
            <ul tal:condition="'counter-proposal' in results">
                <li tal:repeat="error results['counter-proposal']['errors']">
                    <span tal:condition="error.line"><span i18n:translate>Line: </span>${error.line}, </span>${error.error}
                </li>
            </ul>

            <h4 class="success" tal:condition="'tie-breaker' in results and results['tie-breaker']['status'] == 'ok'"
                i18n:translate>The counter tie breaker was okay</h4>
            <h4 class="error" tal:condition="'tie-breaker' in results and results['tie-breaker']['status'] != 'ok'"
                i18n:translate>Errors found in tie-breaker</h4>
            <ul tal:condition="'tie-breaker' in results">
                <li tal:repeat="error results['tie-breaker']['errors']">
                    <span tal:condition="error.line"><span i18n:translate>Line: </span>${error.line}, </span>${error.error}
                </li>
            </ul>
        </div>

        <div metal:use-macro="layout.macros['form']" />

    </tal:block>
</div>