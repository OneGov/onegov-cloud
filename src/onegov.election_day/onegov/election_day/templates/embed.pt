<!DOCTYPE html>
<html class="no-js" lang="${request.html_lang}"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:i18n="http://xml.zope.org/namespaces/i18n"
    xmlns:metal="http://xml.zope.org/namespaces/metal"
    xmlns:tal="http://xml.zope.org/namespaces/tal"
    i18n:domain="onegov.election_day"
    metal:define-macro="layout">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            <tal:block content="layout.app.principal.name" />:
            <tal:block i18n:translate="">Elections &amp; Votes</tal:block>
        </title>
        <!-- This site is running on the
           ___              ____               ____ _                 _
         / _ \ _ __   ___ / ___| _____   __  / ___| | ___  _   _  __| |
        | | | | '_ \ / _ \ |  _ / _ \ \ / / | |   | |/ _ \| | | |/ _` |
        | |_| | | | |  __/ |_| | (_) \ V /  | |___| | (_) | |_| | (_| |
        \___/|_| |_|\___|\____|\___/ \_/    \____|_|\___/ \__,_|\__,_|

        Have a look at the source code: https://onegov.readthedocs.org
        -->
    <link rel="stylesheet" type="text/css" href="${request.theme_link}">
    <link rel="stylesheet" type="text/css" href="${layout.font_awesome_path}">
    </head>
    <body tal:define="bar_url data.get('bar');
                      grouped_bar_url data.get('grouped_bar');
                      sankey_url data.get('sankey');
                      map_url data.get('map')">
        <div tal:condition="bar_url" class="bar-chart"
            data-dataurl="${bar_url}"
            >
        </div>
        <div tal:condition="grouped_bar_url" class="grouped-bar-chart"
            data-dataurl="${grouped_bar_url}"
            >
        </div>
        <div tal:condition="sankey_url" class="sankey-chart"
            data-dataurl="${sankey_url}"
            data-inverse="${data.get('inverse')}"
            >
        </div>
        <div tal:condition="map_url" class="ballot-map"
            data-type="${model.type}"
            data-canton="${layout.app.principal.id}"
            data-mapurl="${layout.get_topojson_link(layout.app.principal.id, model.vote.date.year)}"
            data-dataurl="${map_url}"
            data-left-hand="Yay"
            data-right-hand="Nay"
            data-expats="Expats"
            i18n:attributes="data-left-hand; data-right-hand; data-expats"
            >
        </div>
    </body>
</html>
