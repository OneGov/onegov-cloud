<div metal:use-macro="layout.base" i18n:domain="onegov.feriennet">
    <tal:block metal:fill-slot="title">
        ${title}
    </tal:block>
    <tal:block metal:fill-slot="content">
        <div class="occasion-attendance" tal:repeat="occasion occasions">
            <div class="attendance-header">
                <h3>${occasion.activity.title}</h3>
                <div>${layout.format_date_range(occasion.localized_start, occasion.localized_end)}</div>
                <div i18n:translate><tal:block i18n:name="count" replace="occasion.attendee_count" /> attendees</div>
            </div>

            <ul class="attendees">
                <li tal:repeat="details occasions[occasion]">
                    <strong>${details.attendee.name} (${details.attendee.age})</strong>
                    <div i18n:translate tal:condition="details.contact">Contact: <tal:block i18n:name="phone" replace="details.contact" /></div>
                    <div><strong i18n:translate tal:condition="not: details.contact">No contact</strong></div>
                </li>
            </ul>
        </div>
    </tal:block>
</div>
