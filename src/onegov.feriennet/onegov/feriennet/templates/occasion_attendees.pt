<div metal:use-macro="layout.base" i18n:domain="onegov.feriennet">
    <tal:block metal:fill-slot="title">
        ${title}
    </tal:block>
    <tal:block metal:fill-slot="content">
        <div class="occasion-attendance" tal:repeat="occasion occasions" id="${occasion.id.hex}">
            <div class="attendance-header">
                <h3>${occasion.activity.title}</h3>
                <div class="calendar-icon before fixed-width">${layout.format_datetime_range(occasion.localized_start, occasion.localized_end)}</div>
                <div class="child-icon before fixed-width" i18n:translate><tal:block i18n:name="count" replace="occasion.attendee_count" /> attendees</div>
            </div>

            <ul class="attendees">
                <li tal:repeat="details occasions[occasion]">
                    <strong>${details.attendee.name} (${details.attendee.age})</strong>
                    <div>
                        <span i18n:translate>Emergency Contact:</span>
                        <span tal:condition="details.contact">${details.contact}</span>
                        <strong i18n:translate tal:condition="not:details.contact">Missing!</strong>
                    </div>
                </li>
            </ul>
        </div>
    </tal:block>
</div>
