<div metal:use-macro="layout.base" i18n:domain="onegov.feriennet">
    <tal:block metal:fill-slot="title">
        ${title}
    </tal:block>
    <tal:block metal:fill-slot="content">
        <p i18n:translate tal:condition="not:notifications">
            No notification templates yet.
        </p>

        <ul class="dense notifications" tal:condition="notifications">
            <li tal:repeat="notification notifications" id="${notification.id.hex}">
                <h2>${notification.subject}</h2>

                <div class="last-sent">
                    <tal:block condition="notification.last_sent" i18n:translate>
                        sent <tal:block i18n:name="time_ago">${layout.format_date(notification.last_sent, 'relative')}</tal:block>
                    </tal:block>

                    <tal:block condition="not:notification.last_sent" i18n:translate>
                        Not sent yet
                    </tal:block>
                </div>

                <div class="text-links">
                    <tal:block repeat="link get_links(notification)" replace="structure link(layout)" />
                </div>
            </li>
        </ul>
    </tal:block>
</div>
