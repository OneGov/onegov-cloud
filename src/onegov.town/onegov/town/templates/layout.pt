<!DOCTYPE html>
<html class="no-js"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      i18n:domain="onegov.town"
      metal:define-macro="layout">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title><div metal:define-slot="title"></div></title>
    <!-- This site is running on the
          ___              ____               ____ _                 _
         / _ \ _ __   ___ / ___| _____   __  / ___| | ___  _   _  __| |
        | | | | '_ \ / _ \ |  _ / _ \ \ / / | |   | |/ _ \| | | |/ _` |
        | |_| | | | |  __/ |_| | (_) \ V /  | |___| | (_) | |_| | (_| |
         \___/|_| |_|\___|\____|\___/ \_/    \____|_|\___/ \__,_|\__,_|

         Have a look at the source code: https://onegov.readthedocs.org
     -->
    <link rel="stylesheet" type="text/css" href="${request.theme_link}">
    <link rel="stylesheet" type="text/css" href="${layout.font_awesome_path}">
</head>

<body id="${layout.page_id}">
    <div id="inner-body">
      <div class="row">
        <div class="small-12 columns">
          <a href="${layout.homepage_url}" tal:define="logo_url layout.town.logo_url|nothing">
            <img tal:condition="logo_url" src="${layout.town.logo_url}" alt="Town Logo" title="${layout.town.name}" i18n:attributes="alt"/>
            <h1 tal:condition="not:logo_url">${layout.town.name}</h1>
          </a>
        </div>
      </div>
      <div class="row">
          <div class="small-12 columns">
              <div metal:use-macro="layout.macros['top_navigation']"></div>
              <div metal:use-macro="layout.macros['editbar']"></div>
              <div metal:use-macro="layout.macros['breadcrumbs']"></div>
          </div>
      </div>

      <div class="row">
        <div class="small-12 columns">
          <div tal:repeat="message request.consume_messages()" data-alert class="alert-box ${message.type}">
            ${message.text}
            <a href="#" class="close">&times;</a>
          </div>
        </div>
      </div>

      <div class="row content with-sidebar-links" tal:condition="layout.sidebar_links">
        <div class="small-12 medium-3 large-3 columns sidebar">
          <ul class="side-nav">
            <li tal:repeat="link layout.sidebar_links" tal:attributes="class getattr(link, 'active', None) and 'active' or ''">
              <tal:block replace="structure link(request)" />
            </li>
          </ul>
        </div>
        <div class="small-12 medium-9 large-9 columns end">
          <div class="row">
              <div class="small-12 columns">
                  <h1 class="main-title"><div metal:define-slot="title"></div></h1>
                  <div metal:define-slot="content"></div>
              </div>
          </div>
        </div>
      </div>
      <div class="row content without-sidebar-links" tal:condition="not:layout.sidebar_links">
        <div class="small-12 columns">
          <div class="row">
              <div class="small-12 columns">
                  <h1 class="main-title"><div metal:define-slot="title"></div></h1>
                  <div metal:define-slot="content"></div>
              </div>
          </div>
        </div>
      </div>
      <div class="push"></div>
    </div>
    <footer class="row footer" tal:define="contact layout.town.meta.contact_html|nothing; opening_hours layout.town.meta.opening_hours_html|nothing">
      <div class="small-12 columns">
        <div class="row footer-columns" tal:condition="contact|opening_hours">
          <div class="small-12 medium-3 columns">
            <h2 i18n:translate="" tal:condition="contact">Contact</h2>
            <div tal:content="structure layout.town.meta.contact_html" />
          </div>
          <div class="small-12 medium-6 columns">
            <h2 i18n:translate="" tal:condition="opening_hours">Opening Hours</h2>
            <div tal:content="structure layout.town.meta.opening_hours_html" />
          </div>
          <div class="small-12 medium-3 columns"></div>
        </div>
        <div class="row footer-links">
          <div class="small-12 columns">
            <div metal:use-macro="layout.macros['bottom-links']"></div>
          </div>
        </div>
      </div>
    </footer>
</body>

</html>