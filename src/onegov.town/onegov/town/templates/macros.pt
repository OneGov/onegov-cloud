<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      i18n:domain="onegov.town">
<body>

<metal:navigation define-macro="top_navigation">
    <nav class="top-bar" data-topbar role="navigation" tal:condition="layout.top_navigation">
        <ul class="title-area">
            <!--! this section needs to be included (even though it's empty),
            or the responsive menu bar icon won't be rendered -->
            <li class="name" style="width: 0;">
                <h1><a href="#"></a></h1>
            </li>
            <li class="toggle-topbar menu-icon">
                <a href="#"><span>Menu</span></a>
            </li>
        </ul>
        <section class="top-bar-section">
            <ul class="left">
                <tal:block repeat="link layout.top_navigation">
                    <li tal:attributes="class link.active and 'active'">
                        <a tal:attributes="href link.url">${link.text}</a>
                    </li>
                </tal:block>
            </ul>
        </section>
    </nav>
</metal:navigation>

<metal:breadcrumbs define-macro="breadcrumbs">
    <ul class="breadcrumbs" tal:condition="layout.breadcrumbs">
        <tal:block repeat="link layout.breadcrumbs">
            <li tal:attributes="class link.active and 'current'">
                <a tal:attributes="href link.url">${link.text}</a>
            </li>
        </tal:block>
    </ul>
</metal:breadcrumbs>

<metal:bottom_links define-macro="bottom-links">
    <ul class="bottom-links" tal:condition="layout.bottom_links">
        <tal:block repeat="link layout.bottom_links">
            <a tal:attributes="href link.url">${link.text}</a>
            <tal:block tal:condition="not:repeat.link.end">|</tal:block>
        </tal:block>
    </ul>
</metal:bottom_links>

<metal:search define-macro="form">
    <form tal:attributes="action form.action|'.'" method="POST">
        <metal:fields use-macro="layout.macros['fields']" tal:define="fields form._fields.values()" />
        <input type="submit" value="Submit" class="button" i18n:attributes="value">
    </form>
</metal:search>

<metal:fields define-macro="fields">
    <tal:block repeat="field fields">
        <label tal:attributes="class field.errors and 'error'">
            <tal:block>${field.label.text}</tal:block> ${field()}
        </label>
        <small class="error" tal:repeat="error field.errors">${error}</small>
    </tal:block>
</metal:fields>

</body>