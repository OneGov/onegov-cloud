<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      i18n:domain="onegov.fsi">

<body>

<metal:intercooler_btn define-macro="intercooler_btn">
    <tal:b tal:define="link intercooler_btn|layout.intercooler_btn" tal:condition="link" tal:content="structure link(layout)" />
</metal:intercooler_btn>

<metal:intercooler_btn_for_item define-macro="intercooler_btn_for_item">
    <tal:b tal:define="link intercooler_btn_for_item|layout.intercooler_btn_for_item" tal:condition="link and item" tal:content="structure link(item)(layout)" />
</metal:intercooler_btn_for_item>

<metal:accordion define-macro="accordion">
    <tal:b tal:condition="items|nothing">
        <dl class="accordion" data-accordion>
            <tal:b tal:repeat="item items" define="accordion_id 'accordion-panel-{}'.format(repeat.item.number)">
                <dd class="accordion-navigation">
                    <a href="${accordion_id}">$item.title</a>
                    <div id="${accordion_id}" class="content">
                        <span tal:condition="item.url|nothing"><a href="${item.url}" class="tiny button hollow">Details</a></span>
                        <span tal:condition="request.is_manager and item.edit_url|nothing"><a href="${item.edit_url}" class="tiny button hollow">Edit</a></span>
                            ${item.content}
                    </div>
                </dd>
            </tal:b>
        </dl>

    </tal:b>
</metal:accordion>

<metal:email_preview define-macro="email_preview">
    <tal:b tal:condition="layout.model|nothing">
        <dl class="field-display">
            <dt i18n:translate="">Subject: </dt>
            <dd>${layout.model.subject}</dd>
            <div class="clearfix"></div>
        </dl>
        <dl class="field-display">
            <dt i18n:translate="">Text: </dt>
            <dd tal:content="text layout.model.text"></dd>
            <iframe src="request.link(layout.model, name='embed')" frameborder="0" width="100%"></iframe>
            <div class="clearfix"></div>
        </dl>
    </tal:b>
</metal:email_preview>

<metal:email_recipients define-macro="email_recipients">
    <tal:b tal:condition="layout.model|nothing">
        <dl class="field-display">
            <dt i18n:translate="">Recipients: </dt>
            <dd>
                <tal:b tal:repeat="email layout.model.course_event.email_recipients">
                    ${email}<br>
                </tal:b>
            </dd>
            <div class="clearfix"></div>
        </dl>
    </tal:b>
</metal:email_recipients>

<metal:confirmation_slider define-macro="confirmation_slider">
    <div tal:condition="not: reservation.is_placeholder" class="switch round tiny confirmation-switch">
        <input id="${switch_id}" type="checkbox" tal:attributes="disabled python:not layout.course_event.is_past; checked python:reservation.event_completed; ic-post-to url|nothing">
        <label for="${switch_id}"></label>
    </div>
</metal:confirmation_slider>

</body>
</html>