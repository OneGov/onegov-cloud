<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      i18n:domain="onegov.fsi">

<body>
<metal:search define-macro="form" i18n:domain="onegov.fsi">
    <form tal:attributes="action form.action; method form_method|'POST'" enctype="multipart/form-data">
        <tal:b repeat="fieldset form.fieldsets">
            <fieldset tal:condition="fieldset.is_visible" id="fieldset-${fieldset.label.lower()}">
                <legend>${fieldset.label}</legend>
                <div class="formfields">
                    <metal:fields use-macro="layout.macros['fields']" tal:define="fields fieldset.fields.values()" />
                    <div class="clearfix"></div>
                </div>
            </fieldset>
            <tal:b condition="not:fieldset.is_visible">
                <div class="formfields">
                    <metal:fields use-macro="layout.macros['fields']" tal:define="fields fieldset.fields.values()" />
                    <div class="clearfix"></div>
                </div>
            </tal:b>
        </tal:b>
        <tal:b condition="cancel|nothing">
            <a class="button secondary cancel-button" href="${cancel}" i18n:translate="">Cancel</a>
        </tal:b>
        <tal:b condition="not: button_text|nothing">
            <input type="submit" value="Submit" class="button ${button_class|nothing}" i18n:attributes="value">
        </tal:b>
        <tal:b condition="button_text|nothing">
            <input type="submit" value="${button_text}" class="button ${button_class|nothing}">
        </tal:b>
    </form>
</metal:search>

<metal:fields define-macro="fields" i18n:domain="onegov.fsi">
  <div class="row">
      <tal:block repeat="field fields">
            <div class="small-12 columns medium-${field.render_kw['size']|12} field-type-${field.type.lower()}" tal:condition="not field.render_kw.get('hidden', False)|True">
                <tal:block define="input_type field.widget.input_type|None">
                    <tal:block condition="input_type == 'hidden'">
                        ${field()}
                        <small class="error" tal:repeat="error field.errors">${error}</small>
                    </tal:block>
                     <tal:block condition="input_type != 'hidden'">
                        <label tal:attributes="class field.errors and 'error' or None">
                            <tal:block condition="field.type == 'BooleanField'">
                                ${field(placeholder=request.translate(field.description))}
                                <span class="label-text">${field.label.text}</span>
                                <span tal:condition="field.description|nothing" data-tooltip aria-haspopup="true" class="has-tip" title="${field.description}"><i class="fa fa-info" aria-hidden="true"></i></span>
                                <span class="label-required" tal:condition="field.flags.required|nothing">*</span>
                            </tal:block>
                            <tal:block condition="field.type != 'BooleanField'">
                                <span class="label-text">${field.label.text}</span>
                                <span tal:condition="field.description|nothing" data-tooltip aria-haspopup="true" class="has-tip" title="${field.description}"><i class="fa fa-info" aria-hidden="true"></i></span>
                                <span class="label-required" tal:condition="field.flags.required|nothing">*</span>
                                ${field(placeholder=request.translate(field.description))}
                            </tal:block>
                        </label>
                        <small class="error" tal:repeat="error field.errors">${error}</small>
                     </tal:block>
               </tal:block>
            </div>
        </tal:block>
  </div>
</metal:fields>

<metal:intercooler_btn define-macro="intercooler_btn">
    <tal:b tal:condition="layout.intercooler_btn">
        <div tal:define="link layout.intercooler_btn" tal:content="structure link(layout)"/>
    </tal:b>
</metal:intercooler_btn>

<metal:intercooler_btn_for_item define-macro="intercooler_btn_for_item">
    <tal:b tal:condition="layout.intercooler_btn_for_item">
        <div tal:define="link layout.intercooler_btn_for_item(item)" tal:content="structure link(layout)"/>
    </tal:b>
</metal:intercooler_btn_for_item>



<metal:accordion define-macro="accordion">
    <tal:b tal:define="items layout.accordion_items()" tal:condition="items|nothing">
        <dl class="accordion" data-accordion>
            <tal:b tal:repeat="item items" define="accordion_id 'accordion-panel-{}'.format(repeat.item.number)">
                <dd class="accordion-navigation">
                    <a href="${accordion_id}">$item.title</a>
                    <div id="${accordion_id}" class="content">
                        <span tal:condition="item.url|nothing"><a href="$item.url" class="tiny button hollow">Detail URL Icon</a></span>
                        <span tal:condition="item.edit_url|nothing"><a href="$item.edit_url" class="tiny button hollow">Edit URL Icon</a></span>
                            ${item.content}
                    </div>
                </dd>
            </tal:b>
        </dl>

    </tal:b>
</metal:accordion>

<metal:email_preview define-macro="email_preview">
    <tal:b tal:condition="layout.model|nothing">
        <p><strong>Subject: </strong>${layout.model.subject}</p>
        <div tal:content="text layout.model.text" />
    </tal:b>
</metal:email_preview>

</body>
</html>