<div metal:use-macro="layout.base" i18n:domain="onegov.fsi">
    <tal:b metal:fill-slot="title">
        ${model.name}
    </tal:b>
    <tal:b metal:fill-slot="content">
        <div class="row">
            <div class="columns small-12">
                <div class="row">
                    <div class="columns small-12">
                        <tal:b tal:condition="model|nothing" tal:define="events model.events.all()">
                            <h3 i18n:translate="">Description:</h3>
                            <div class="page-text">
                                <p tal:content="structure model.description_html"></p>
                            </div>

                            <h3 i18n:translate="">Events</h3>
                            <tal:b tal:switch="events and True or False">
                                <tal:b tal:case="True">
                                    <tal:b tal:condition="events">
                                        <table class="tablesaw hover events-table">
                                            <thead>
                                                <th i18n:translate="">Date</th>
                                                <th i18n:translate="">Start</th>
                                                <th i18n:translate="">End</th>
                                                <th i18n:translate="">Presenter</th>
                                                <th i18n:translate="">Presenter Company</th>
                                                <th i18n:translate="">Free Space</th>
                                                <th tal:condition="request.is_manager" i18n:translate>Hidden</th>
                                            </thead>
                                            <tbody>
                                                <tal:b tal:repeat="event events">
                                                    <tr>
                                                        <td>
                                                            <a href="${request.link(event)}">
                                                                <strong>${layout.format_date(event.start, 'date_long')}</strong>
                                                            </a>
                                                        </td>
                                                        <td>${layout.format_date(event.start, 'time')}</td>
                                                        <td>${layout.format_date(event.end, 'time')}</td>
                                                        <td>${event.presenter_name}</td>
                                                        <td>${event.presenter_company}</td>
                                                        <td>${event.available_seats}</td>
                                                        <tal:b tal:condition="request.is_manager" tal:switch="event.hidden_from_public">
                                                            <td tal:case="True" i18n:translate>Yes</td>
                                                            <td tal:case="False" i18n:translate>No</td>
                                                        </tal:b>
                                                    </tr>
                                                </tal:b>
                                            </tbody>

                                        </table>
                                    </tal:b>
                                </tal:b>
                                <p tal:case="False" i18n:translate="">No entries found.</p>
                            </tal:b>
                        </tal:b>
                    </div>
                </div>
            </div>
        </div>
    </tal:b>
</div>