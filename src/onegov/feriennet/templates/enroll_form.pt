<div metal:use-macro="layout.base" i18n:domain="onegov.feriennet">
    <tal:b metal:fill-slot="title">
        ${title}
    </tal:b>

    <tal:b metal:fill-slot="content">
        <div class="callout panel" tal:condition="occasion.period.finalized" i18n:translate>
            The bills for this period have already been created. Signing up may add extra items to your
            bill, even if you have already paid it.
        </div>

        <div class="callout" tal:condition="request.current_username != form.username" i18n:translate>
            For <strong i18n:name="user" tal:content="form.user.title" />
        </div>

        <div class="grid-x grid-padding-x">
            <div class="cell small-12 medium-8 enroll-form">
                <h2>${occasion.activity.title}</h2>

                <div class="occasions">
                    <h3><tal:b>${number}.</tal:b> <tal:b i18n:translate>Occasion</tal:b></h3>
                    <tal:b metal:use-macro="layout.macros.occasion" />
                </div>

                <div class="grid-x">
                    <div class="small-12 cell">
                        <div metal:use-macro="layout.macros['form']" />
                    </div>
                </div>
            </div>
            <div class="cell small-12 medium-4 sidebar">
                <div class="sidebar-wrapper">
                    <tal:b condition="request.is_admin">
                        <div class="filter-panel side-panel">
                            <h3 class="filter-title" i18n:translate>User</h3>
                            <select onchange="location = this.value;">
                                <option tal:repeat="user users" value="${form.for_username(user.username)}" tal:attributes="selected user.username == form.username">
                                    ${user.title}
                                </option>
                            </select>
                        </div>
                    </tal:b>
                </div>
            </div>
        </div>
    </tal:b>
</div>
