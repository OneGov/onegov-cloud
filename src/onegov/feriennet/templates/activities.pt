<div metal:use-macro="layout.base" i18n:domain="onegov.feriennet">
    <tal:b metal:fill-slot="title">
        ${title}
    </tal:b>
    <tal:b metal:fill-slot="content">
        <div class="grid-x grid-padding-x content">
            <div class="cell small-12">
                <tal:b metal:use-macro="layout.macros['filters']" />
                <div id="activities" class="activities-list grid-x grid-padding-x">
                    <tal:b tal:repeat="activity activities" tal:condition="activities">
                        <tal:b tal:define="index activities.index(activity)%20">
                            <tal:b condition="index == 7">
                                <div class="banner subpage-cards small-12 medium-6 large-4 cell">
                                    <tal:b condition="main_sponsor" metal:use-macro="layout.macros['banner']" define="position 'activities'; banner main_sponsor"/>
                                </div>
                            </tal:b>
                            <tal:b condition="index == 14 and sponsors">
                                <div class="banner subpage-cards small-12 medium-6 large-4 cell" tal:define="sponsor random.choice(sponsors)">
                                    <tal:b condition="sponsor" metal:use-macro="layout.macros['banner']" define="position 'activities'; banner sponsor"/>
                                </div>
                            </tal:b>
                            <div class="subpage-cards small-12 medium-6 large-4 cell">
                                <tal:b metal:use-macro="layout.macros['activity_card']" />
                            </div>
                        </tal:b>
                    </tal:b>
                </div>
                <div class="grid-x grid-padding-x">

                    <div class="cell small-12">

                        <div id="click-to-load-target"></div>

                        <div class="show-more" tal:condition="activities">
                            <tal:b define="next_page layout.model.next" condition="next_page">
                                <a class="click-to-load button" id="click-to-load"
                                    href="${request.link(next_page)}"
                                    data-source="${request.link(next_page)} .activities-list"
                                    data-target="#click-to-load-target"
                                    i18n:translate>
                                        Show more
                                </a>
                            </tal:b>
                            <div ></div>
                            <a href="#" class="navigate-up"
                                data-location="${current_location}"
                                id="click-to-load-location"
                                ><i class="fa fa-chevron-up"></i> <span i18n:translate>Navigate up</span></a>
                        </div>
                    </div>

                    <div class="cell small-12" tal:condition="not:activities">
                        <p i18n:translate>No activities found.</p>
                        <b><a class="button hollow" tal:condition="filtered" href="${request.class_link(layout.model.__class__)}" i18n:translate>Reset filter.</a></b>
                    </div>
                </div>
            </div>

        </div>
    </tal:b>
</div>
